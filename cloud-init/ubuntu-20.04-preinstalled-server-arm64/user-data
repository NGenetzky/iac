#cloud-config
#https://github.com/number5/cloud-init/blob/master/doc/examples/cloud-config.txt

# chpasswd:
#   expire: true
#   list:
#   - ubuntu:ubuntu

# Enable password authentication with the SSH daemon. No.
ssh_pwauth: false

# ssh_import_id:
# - gh:ngenetzky

## Add users and groups to the system, and import keys with the ssh-import-id
## utility
# groups:
# - robot: [robot]
# - robotics: [robot]

users:
# - default # NOTE: Replacing 'default' with 'user'
- name: user
  primary_group: user
  ssh_import_id: "gh:ngenetzky"
  uid: "1000"

- name: ngenetzky
  groups: user, users, admin, adm, dialout, sudo, lxd, plugdev, netdev
  ssh_import_id: gh:ngenetzky
  uid: "1337"

- name: builder
  ssh_import_id: gh:ngenetzky
  uid: "2000"

- name: support
  groups: admin, adm, sudo
  ssh_import_id: gh:ngenetzky
  uid: "3000"
  sudo: ALL=(root) NOPASSWD:ALL

# resize_rootfs should the / filesytem be resized on first boot
# this allows you to launch an instance with a larger disk / partition
# and have the instance automatically grow / to accomoddate it
# set to 'False' to disable
# by default, the resizefs is done early in boot, and blocks
# if resize_rootfs is set to 'noblock', then it will be run in parallel
resize_rootfs: True

## hostname and /etc/hosts management
# Set the hostname and FQDN
hostname: "ryder"
fqdn: "ryder.genetzky.us"
# Set our hostname in /etc/hosts too
manage_etc_hosts: true

# timezone: set the timezone for this instance
# the value of 'timezone' must exist in /usr/share/zoneinfo
timezone: US/Central

## Update apt database and upgrade packages on first boot
package_update: true
package_upgrade: true

#packages:
#- pwgen
#- pastebinit
#- [libpython2.7, 2.7.3-0ubuntu3.1]

## Write arbitrary files to the file-system (including binaries!)
#write_files:
#- path: /etc/default/keyboard
#  content: |
#    # KEYBOARD configuration file
#    # Consult the keyboard(5) manual page.
#    XKBMODEL="pc105"
#    XKBLAYOUT="gb"
#    XKBVARIANT=""
#    XKBOPTIONS="ctrl: nocaps"
#  permissions: '0644'
#  owner: root:root
#- encoding: gzip
#  path: /usr/bin/hello
#  content: !!binary |
#    H4sIAIDb/U8C/1NW1E/KzNMvzuBKTc7IV8hIzcnJVyjPL8pJ4QIA6N+MVxsAAAA=
#  owner: root:root
#  permissions: '0755'

## Run arbitrary commands at rc.local like time
#runcmd:
#- [ ls, -l, / ]
#- [ sh, -xc, "echo $(date) ': hello world!'" ]
#- [ wget, "http://ubuntu.com", -O, /run/mydir/index.html ]
